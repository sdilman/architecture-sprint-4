## Анализ

Компонентами для мониторинга и показателями предлагается сделать следующие:

1. Internet Shop: Отслеживать времени отклика, доступности сервиса, конверсию (возращение пользователя), успешность покупок.
2. Shop API и CRM API: Отслеживать метрики производительности, ошибки и латентность.
3. Базы данных Shop DB и MES DB: Отслеживать производительность запросов и доступность. Решения для мониторинга баз данных могут помочь в этом.
4. Messages Queue: Отслеживать длины очереди, временя обработки, ошибки.
5. MES API и MES: Отслеживать сроки выполнения операций.
6. 3D-files storage: Отслеживать скорость доступа к файлам и ошибки при загрузке/выгрузке файлов.


## Мотивация

Своевременное предупреждение о потенциальной проблеме, влияющей на работу системы. 
Автоматическое и ручноее реагирование для недопущения такой пробемы.
В результате - стабильно и без сбоев работающая система.

## Выбор подхода к мониторингу

Для API и веб-интерфесов выберем подход: RED (Rate, Errors, Duration)
Причина выбора: Интерфейсы работают с обработкой запросов, поэтому важно отслеживать скорость их обработки (Rate), количество ошибок (Errors) и время выполнения (Duration).

Для баз данных и очередей выберем подход 4 золотых сигнала (Latency, Traffic, Errors, Saturation)
Причина выбора: Такие системы работают с хранением и пересылкой данных, следовательно кроме отслеживания задержек в обработке данных (Latency), общего объема операций (Traffic), частоты ошибок (Errors) также важна степень доступности ресурсов (Saturation).

## План действий

    1. Разбить компоненты системы приблизительно на два класса "интерфейс" и "система хранения и пересылки" и реализовать для каждой модуль мониторинга, экспортирующего соответствующие метрики в виде API.
    2. Реализовать модуль чтения метрик и представления в виде GUI.
       - Рассмотреть решение на стеке Prometheus/Grafana

## Отслеживание метрик

    Метрики для отслеживания указаны в пункте "Анализ"